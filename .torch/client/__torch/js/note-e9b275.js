(self.webpackChunk=self.webpackChunk||[]).push([[793],{4683:(e,t,r)=>{"use strict";r.d(t,{r:()=>u});var a=(0,r(9048).kR)("/api"),n=e=>a.invoke({path:["getNote"],input:e}),c=e=>a.invoke({path:["getNotes"],input:e}),s=e=>a.invoke({path:["getTags"],input:e}),l=e=>a.invoke({path:["getPictures"],input:e});function o(e,t,r,a,n,c,s){try{var l=e[c](s),o=l.value}catch(i){return void r(i)}l.done?t(o):Promise.resolve(o).then(a,n)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var c=e.apply(t,r);function s(e){o(c,a,n,s,l,"next",e)}function l(e){o(c,a,n,s,l,"throw",e)}s(void 0)}))}}var u=function(){var e=i((function*(e,t,r){var a=[];return t.forEach((t=>{"string"===typeof t&&("/notes"===t?a.push(m(e)):"/tags"===t?a.push(p(e)):"/pictures"===t?a.push(h(e)):a.push(f(e,t)))})),Promise.all(a).catch((t=>{e.dispatch({type:"SET_ERRORS",payload:[t.stack||t.message]})}))}));return function(t,r,a){return e.apply(this,arguments)}}(),m=function(){var e=i((function*(e){return c({}).then((t=>{switch(t.type){case"GetNotesSuccess":e.dispatch({type:"SET_NOTES",payload:t.notes});break;case"SystemError":e.dispatch({type:"SET_ERRORS",payload:[t.message]})}}))}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=i((function*(e){return s({}).then((t=>{switch(t.type){case"GetTagsSuccess":e.dispatch({type:"SET_TAGS",payload:t.tags});break;case"SystemError":e.dispatch({type:"SET_ERRORS",payload:[t.message]})}}))}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=i((function*(e){return l({}).then((t=>{switch(t.type){case"GetPicturesSuccess":e.dispatch({type:"SET_PICTURES",payload:t.pictures});break;case"SystemError":e.dispatch({type:"SET_ERRORS",payload:[t.message]})}}))}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=i((function*(e,t){return n({name:t}).then((r=>{switch(r.type){case"GetNoteSuccess":e.dispatch({type:"SET_NOTE",payload:[t,r.note]});break;case"NoteIsBroken":case"NoteNotExist":case"SystemError":e.dispatch({type:"SET_ERRORS",payload:[r.message]})}}))}));return function(t,r){return e.apply(this,arguments)}}()},5204:(e,t,r)=>{"use strict";r.d(t,{zu:()=>E,W2:()=>m,$_:()=>u,Ey:()=>y,h4:()=>i,rU:()=>h,Mh:()=>g,TX:()=>f,HJ:()=>s,Tl:()=>p});var a=r(2784),n=r(8671),c=r(8592),s=()=>{var e=(0,c.v9)((e=>e.meta));return a.createElement(n.q,null,a.createElement("title",null,e.title),a.createElement("meta",{name:"theme-color",content:"#d84136"}),a.createElement("meta",{name:"description",content:e.description}),a.createElement("meta",{name:"image",content:e.image}))},l=r(284),o=r(2779),i=()=>{var[e]=(0,o._l)(),t=(0,l.useHistory)(),r=e.slice(),n=r.pop();return a.createElement("header",{className:"header"},a.createElement("div",{className:"header-box"},a.createElement("nav",{className:"nav"},r.map((e=>{var[r,n]=e;return a.createElement("span",{key:r},a.createElement("a",{className:"link",href:n,onClick:e=>{t.push(n),e.preventDefault()}},"/\xa0",r,"\xa0\xa0"))})),n&&a.createElement("span",{className:"tail text",key:n[0]},a.createElement("span",null,"/"),"\xa0",a.createElement("span",null,n[0]))),a.createElement("div",{className:"operation"},a.createElement("a",{href:"https://github.com/tqma113",className:"github","aria-label":"Github",accessKey:"g"},a.createElement(y,{width:25,height:25,className:"icon"})),a.createElement("a",{href:"mailto:mtq1997@126.com",className:"mail","aria-label":"Github",accessKey:"m"},a.createElement(g,{width:25,height:25,className:"icon"})),a.createElement(p,null))))},u=()=>{var e=(new Date).getUTCFullYear();return a.createElement("footer",{className:"footer text"},"\xa9 ",e)},m=e=>{var{children:t}=e,r=(0,c.oR)().getState();return r.errors.length>0&&(t=a.createElement(a.Fragment,null,r.errors)),r.notfound&&(t=a.createElement(f,null)),a.createElement("div",{className:"container"},a.createElement(i,null),a.createElement("main",{className:"main"},t),a.createElement(u,null))},p=()=>{var[e,t]=(0,o.Fg)();return a.createElement("button",{className:"theme-toggle",onClick:t,"aria-label":"Theme Toggle"},a.createElement("div",{className:e}))},h=e=>{var{href:t,children:r,style:n,className:c,onClick:s,accessKey:o,blank:i}=e,u=(0,l.useHistory)();return a.createElement("a",{className:"link ".concat(c||""),href:t,onClick:s||(e=>{i||(u.push(t),e.preventDefault())}),style:n,accessKey:o,target:i?"_blank":""},r)},f=()=>{var e=(0,l.useHistory)();return a.createElement("div",{style:{textAlign:"center"}},a.createElement("h1",{style:{fontSize:"32px",fontWeight:650}},"Page not found"),a.createElement("h1",{style:{fontSize:"100px",fontWeight:650}},"404"),a.createElement("p",null,"Back to"," ",a.createElement("a",{className:"link",href:"/",onClick:t=>{e.push("/"),t.preventDefault()}},"Homepage"),"."))},E=()=>a.createElement("div",{className:"back-to-top"},a.createElement(h,{href:"#top",onClick:e=>{window.scrollTo({top:0}),e.preventDefault()}},"\u21ea Back to top"));function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var y=e=>a.createElement("svg",d({viewBox:"0 0 24 24",width:"1em",height:"1em"},e),a.createElement("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}));function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var g=e=>a.createElement("svg",v({viewBox:"64 64 896 896"},e),a.createElement("path",{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-80.8 108.9L531.7 514.4c-7.8 6.1-18.7 6.1-26.5 0L189.6 268.9A7.2 7.2 0 01194 256h648.8a7.2 7.2 0 014.4 12.9z"}))},2779:(e,t,r)=>{"use strict";r.d(t,{_l:()=>i,Fg:()=>c});var a=r(2784);r(284);var n;!function(e){e.Dark="dark",e.Light="light"}(n||(n={}));var c=()=>{var[e,t]=(0,a.useState)(n.Light),[r,c]=(0,a.useState)(!0);(0,a.useEffect)((()=>{t(s()),c(!1)}),[]),(0,a.useEffect)((()=>{r||e===s()||window.__setTheme(e)}),[e]);return[e,()=>{e===n.Light?t(n.Dark):t(n.Light)}]},s=()=>"dark"===localStorage.getItem(window.__theme_key__)?n.Dark:n.Light,l=[],o=e=>{l=e.slice()},i=e=>(e&&(l=e.slice()),[l,o])},3915:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var a={};r.r(a),r.d(a,{code:()=>g,heading:()=>T,image:()=>k,inlineCode:()=>S,link:()=>b,paragraph:()=>_,text:()=>O,thematicBreak:()=>N});var n=r(2784),c=r(720),s=r(2779),l=r(4683),o=r(3789),i=r(8879),u=r.n(i),m=r(2154),p=r.n(m),h=r(940),f=r.n(h),E=r(8592),d=r(5204),y=r(7212),v=r(9172),g=e=>{var{language:t,value:r}=e;return n.createElement(y.Z,{style:v.Z,language:t||"javascript",children:r})},S=e=>{var{value:t}=e;return n.createElement("code",{className:"code"},t)},b=e=>{var{href:t,children:r}=e;return n.createElement(d.rU,{blank:!0,href:t},r)},N=()=>n.createElement("div",{className:"divider"}),T=e=>{var{level:t,children:r}=e;switch(t){case 1:return n.createElement("h1",{className:"h1"},r);case 2:return n.createElement("h2",{className:"h2"},r);case 3:return n.createElement("h3",{className:"h3"},r);case 4:return n.createElement("h4",{className:"h4"},r);case 5:return n.createElement("h5",{className:"h5"},r);case 6:return n.createElement("h6",{className:"h6"},r)}return null},O=e=>{var{children:t}=e;return t},_=e=>{var{children:t}=e;return n.createElement("p",{className:"p"},t)},k=e=>{var{alt:t,src:r,title:a}=e;return n.createElement("img",{className:"image",alt:t,src:r,title:a})};const w=e=>{var{note:t}=e,r=(0,E.oR)(),c=r.getState();(0,n.useEffect)((()=>{r.dispatch({type:"SET_META_DATA",payload:{title:"".concat(t.title," | Notes by Ma Tianqi")}})}),[]);var s=u()(Number(t.createTime)).format("MMMM D, YYYY");return n.createElement("div",{className:"note"},n.createElement("div",{className:"note-title-container"},n.createElement("h1",{className:"title"},t.title),n.createElement("div",{className:"meta"},n.createElement("time",null,s),t.tags.length>0&&n.createElement(n.Fragment,null,n.createElement("span",null," in "),t.tags.map((e=>c.tags.find((t=>t.id===e)))).filter(Boolean).map(((e,t,r)=>t===r.length-1?n.createElement(n.Fragment,{key:e.name},n.createElement(d.rU,{className:"tag",href:"/notes/tags/".concat(e.name)},e.title),n.createElement("span",null,".")):n.createElement(n.Fragment,{key:e.name},n.createElement(d.rU,{className:"tag",href:"/notes/tags/".concat(e.name)},e.title),n.createElement("span",{className:"span"},", "))))),t.tip&&n.createElement("p",null,t.tip))),n.createElement(p(),{className:"content",renderers:a,plugins:[f()]},c.noteSet[t.name]),n.createElement(d.zu,null))};function P(e,t,r,a,n,c,s){try{var l=e[c](s),o=l.value}catch(i){return void r(i)}l.done?t(o):Promise.resolve(o).then(a,n)}function j(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var c=e.apply(t,r);function s(e){P(c,a,n,s,l,"next",e)}function l(e){P(c,a,n,s,l,"throw",e)}s(void 0)}))}}const D=(0,c.D)(function(){var e=j((function*(e){var{history:t,params:r,context:a}=e,c=null===r||void 0===r?void 0:r.noteName,i=(0,o.Z)();return{store:i,beforeCreate:function(){var e=j((function*(){c&&(yield(0,l.r)(i,["/notes","/tags",r.noteName],a))}));return function(){return e.apply(this,arguments)}}(),create:()=>{var e=i.getState(),t=()=>n.createElement(n.Fragment,null);if(c&&e.noteSet[c]){var a=e.notes.find((e=>e.name===r.noteName));a?((0,s._l)([["me","/"],["notes","/notes"],[a.name,"/notes/".concat(a.name)]]),t=()=>n.createElement(w,{note:a})):(i.dispatch({type:"SET_NOT_FOUND",payload:!0}),(0,s._l)([["me","/"]]))}else i.dispatch({type:"SET_NOT_FOUND",payload:!0}),(0,s._l)([["me","/"]]);return t}}}));return function(t){return e.apply(this,arguments)}}())},720:(e,t,r)=>{"use strict";r.d(t,{D:()=>E});var a=r(2784),n=r(284),c=r(8717),s=r(8592),l=r(5204);function o(e,t,r,a,n,c,s){try{var l=e[c](s),o=l.value}catch(i){return void r(i)}l.done?t(o):Promise.resolve(o).then(a,n)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var c=e.apply(t,r);function s(e){o(c,a,n,s,l,"next",e)}function l(e){o(c,a,n,s,l,"throw",e)}s(void 0)}))}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={store:Object.assign((0,c.MT)((()=>{})),(0,n.createNoopStore)()),beforeCreate:()=>{},created:()=>{},beforeDestory:()=>{},destroyed:()=>{}},f=e=>{return(t=e)&&"function"===typeof t?m(m({},h),{},{create:function(){var t=i((function*(){return e}));return function(){return t.apply(this,arguments)}}()}):m(m({},h),e);var t},E=e=>(0,n.createPage)(function(){var t=i((function*(t){var{store:r,beforeCreate:n,create:c,beforeDestory:o,destroyed:u}=f(yield e(t)),m=e=>{var{children:t}=e;return a.createElement(s.zt,{store:r},a.createElement(l.HJ,null),a.createElement(l.W2,null,t))};return{store:r,beforeCreate:()=>(t.context.ssr||r.dispatch({type:"SET_NOT_FOUND",payload:!1}),n()),create:function(){var e=i((function*(){var e=yield c();return()=>a.createElement(m,null,a.createElement(e,null))}));return function(){return e.apply(this,arguments)}}(),beforeDestory:o,destroyed:u}}));return function(e){return t.apply(this,arguments)}}())},3789:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var a=r(8717),n=r(8267);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o={errors:[],notes:[],displayNotes:[],tags:[],noteSet:{},notfound:!1,meta:{title:"Ma Tianqi(@tqma) - Software Engineer",description:"Ma Tianqi's personal website.",image:"icons/icon-192x192.png",language:"en",author:"Ma Tianqi"},pictures:{},displayPictures:{}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNSAFE_SETSTATE":return t.payload;case"SET_TAGS":return s(s({},e),{},{tags:t.payload});case"SET_PICTURES":return s(s({},e),{},{pictures:t.payload});case"SET_DISPLAY_PICTURES":return s(s({},e),{},{displayPictures:t.payload});case"SET_NOTE":var[r,a]=t.payload;return s(s({},e),{},{noteSet:s(s({},e.noteSet),{},{[r]:a})});case"SET_NOTES":return s(s({},e),{},{displayNotes:t.payload,notes:t.payload});case"SET_ERRORS":return s(s({},e),{},{errors:e.errors.concat(t.payload)});case"SET_NOT_FOUND":return s(s({},e),{},{notfound:t.payload});case"SET_DISPLAY_NOTES":return s(s({},e),{},{displayNotes:t.payload});case"SET_META_DATA":return s(s({},e),{},{meta:s(s({},e.meta),t.payload)})}return e};function u(){var e=(0,a.MT)(i,o,(0,n.Uo)());return Object.assign(e,{__UNSAFE_SET_STATE__(t){e.dispatch({type:"UNSAFE_SETSTATE",payload:t})}})}}}]);
//# sourceMappingURL=note-e9b275.js.map