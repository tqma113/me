(self.webpackChunk=self.webpackChunk||[]).push([[497],{4683:(e,t,r)=>{"use strict";r.d(t,{r:()=>u});var n=(0,r(9048).kR)("/api"),a=e=>n.invoke({path:["getNote"],input:e}),c=e=>n.invoke({path:["getNotes"],input:e}),o=e=>n.invoke({path:["getTags"],input:e}),s=e=>n.invoke({path:["getPictures"],input:e});function i(e,t,r,n,a,c,o){try{var s=e[c](o),i=s.value}catch(l){return void r(l)}s.done?t(i):Promise.resolve(i).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function o(e){i(c,n,a,o,s,"next",e)}function s(e){i(c,n,a,o,s,"throw",e)}o(void 0)}))}}var u=function(){var e=l((function*(e,t,r){var n=[];return t.forEach((t=>{"string"===typeof t&&("/notes"===t?n.push(p(e)):"/tags"===t?n.push(m(e)):"/pictures"===t?n.push(f(e)):n.push(h(e,t)))})),Promise.all(n).catch((t=>{e.dispatch({type:"SET_ERRORS",payload:[t.stack||t.message]})}))}));return function(t,r,n){return e.apply(this,arguments)}}(),p=function(){var e=l((function*(e){return c({}).then((t=>{switch(t.type){case"GetNotesSuccess":e.dispatch({type:"SET_NOTES",payload:t.notes});break;case"SystemError":e.dispatch({type:"SET_ERRORS",payload:[t.message]})}}))}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=l((function*(e){return o({}).then((t=>{switch(t.type){case"GetTagsSuccess":e.dispatch({type:"SET_TAGS",payload:t.tags});break;case"SystemError":e.dispatch({type:"SET_ERRORS",payload:[t.message]})}}))}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=l((function*(e){return s({}).then((t=>{switch(t.type){case"GetPicturesSuccess":e.dispatch({type:"SET_PICTURES",payload:t.pictures});break;case"SystemError":e.dispatch({type:"SET_ERRORS",payload:[t.message]})}}))}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=l((function*(e,t){return a({name:t}).then((r=>{switch(r.type){case"GetNoteSuccess":e.dispatch({type:"SET_NOTE",payload:[t,r.note]});break;case"NoteIsBroken":case"NoteNotExist":case"SystemError":e.dispatch({type:"SET_ERRORS",payload:[r.message]})}}))}));return function(t,r){return e.apply(this,arguments)}}()},5204:(e,t,r)=>{"use strict";r.d(t,{zu:()=>y,W2:()=>p,$_:()=>u,Ey:()=>d,h4:()=>l,rU:()=>f,Mh:()=>g,TX:()=>h,HJ:()=>o,Tl:()=>m});var n=r(2784),a=r(8671),c=r(8592),o=()=>{var e=(0,c.v9)((e=>e.meta));return n.createElement(a.q,null,n.createElement("title",null,e.title),n.createElement("meta",{name:"theme-color",content:"#d84136"}),n.createElement("meta",{name:"description",content:e.description}),n.createElement("meta",{name:"image",content:e.image}))},s=r(284),i=r(2779),l=()=>{var[e]=(0,i._l)(),t=(0,s.useHistory)(),r=e.slice(),a=r.pop();return n.createElement("header",{className:"header"},n.createElement("div",{className:"header-box"},n.createElement("nav",{className:"nav"},r.map((e=>{var[r,a]=e;return n.createElement("span",{key:r},n.createElement("a",{className:"link",href:a,onClick:e=>{t.push(a),e.preventDefault()}},"/\xa0",r,"\xa0\xa0"))})),a&&n.createElement("span",{className:"tail text",key:a[0]},n.createElement("span",null,"/"),"\xa0",n.createElement("span",null,a[0]))),n.createElement("div",{className:"operation"},n.createElement("a",{href:"https://github.com/tqma113",className:"github","aria-label":"Github",accessKey:"g"},n.createElement(d,{width:25,height:25,className:"icon"})),n.createElement("a",{href:"mailto:mtq1997@126.com",className:"mail","aria-label":"Github",accessKey:"m"},n.createElement(g,{width:25,height:25,className:"icon"})),n.createElement(m,null))))},u=()=>{var e=(new Date).getUTCFullYear();return n.createElement("footer",{className:"footer text"},"\xa9 ",e)},p=e=>{var{children:t}=e,r=(0,c.oR)().getState();return r.errors.length>0&&(t=n.createElement(n.Fragment,null,r.errors)),r.notfound&&(t=n.createElement(h,null)),n.createElement("div",{className:"container"},n.createElement(l,null),n.createElement("main",{className:"main"},t),n.createElement(u,null))},m=()=>{var[e,t]=(0,i.Fg)();return n.createElement("button",{className:"theme-toggle",onClick:t,"aria-label":"Theme Toggle"},n.createElement("div",{className:e}))},f=e=>{var{href:t,children:r,style:a,className:c,onClick:o,accessKey:i,blank:l}=e,u=(0,s.useHistory)();return n.createElement("a",{className:"link ".concat(c||""),href:t,onClick:o||(e=>{l||(u.push(t),e.preventDefault())}),style:a,accessKey:i,target:l?"_blank":""},r)},h=()=>{var e=(0,s.useHistory)();return n.createElement("div",{style:{textAlign:"center"}},n.createElement("h1",{style:{fontSize:"32px",fontWeight:650}},"Page not found"),n.createElement("h1",{style:{fontSize:"100px",fontWeight:650}},"404"),n.createElement("p",null,"Back to"," ",n.createElement("a",{className:"link",href:"/",onClick:t=>{e.push("/"),t.preventDefault()}},"Homepage"),"."))},y=()=>n.createElement("div",{className:"back-to-top"},n.createElement(f,{href:"#top",onClick:e=>{window.scrollTo({top:0}),e.preventDefault()}},"\u21ea Back to top"));function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=e=>n.createElement("svg",E({viewBox:"0 0 24 24",width:"1em",height:"1em"},e),n.createElement("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}));function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var g=e=>n.createElement("svg",v({viewBox:"64 64 896 896"},e),n.createElement("path",{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-80.8 108.9L531.7 514.4c-7.8 6.1-18.7 6.1-26.5 0L189.6 268.9A7.2 7.2 0 01194 256h648.8a7.2 7.2 0 014.4 12.9z"}))},2779:(e,t,r)=>{"use strict";r.d(t,{_l:()=>l,Fg:()=>c});var n=r(2784);r(284);var a;!function(e){e.Dark="dark",e.Light="light"}(a||(a={}));var c=()=>{var[e,t]=(0,n.useState)(a.Light),[r,c]=(0,n.useState)(!0);(0,n.useEffect)((()=>{t(o()),c(!1)}),[]),(0,n.useEffect)((()=>{r||e===o()||window.__setTheme(e)}),[e]);return[e,()=>{e===a.Light?t(a.Dark):t(a.Light)}]},o=()=>"dark"===localStorage.getItem(window.__theme_key__)?a.Dark:a.Light,s=[],i=e=>{s=e.slice()},l=e=>(e&&(s=e.slice()),[s,i])},8156:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var n=r(2784),a=r(2779),c=r(720),o=r(4683),s=r(3789),i=r(8592),l=r(8879),u=r.n(l),p=r(5204);function m(e){var{tagTitle:t}=e,r=(0,i.oR)();return(0,n.useEffect)((()=>{t?r.dispatch({type:"SET_META_DATA",payload:{title:"".concat(t," | Notes by Ma Tianqi")}}):r.dispatch({type:"SET_META_DATA",payload:{title:"Notes by Ma Tianqi"}})}),[]),n.createElement("div",{className:"notes"},n.createElement("div",{className:"title-container"},n.createElement("h1",{className:"title"},"Notes"),n.createElement("div",{className:"link-container"},n.createElement(p.rU,{href:"/notes/tags",className:"link-with-underline"},"View all tags"))),n.createElement(f,null))}function f(){var e=(0,i.v9)((e=>e.displayNotes));return 0===e.length?n.createElement(n.Fragment,null,"Stay tuned..."):n.createElement("section",{className:"note-list-container"},n.createElement("ul",{className:"note-list"},e.map((e=>n.createElement(h,{key:e.name,note:e})))))}function h(e){var{note:t}=e,r=u()(Number(t.createTime)).format("MMMM D, YYYY");return n.createElement("li",{className:"note"},n.createElement("div",{className:"note-title-container"},n.createElement(p.rU,{href:"/notes/".concat(t.name)},n.createElement("p",{className:"note-title"},t.title))),n.createElement("div",{className:"note-time-container"},n.createElement("time",null,r)),n.createElement("p",{className:"note-description"},t.description))}function y(e,t,r,n,a,c,o){try{var s=e[c](o),i=s.value}catch(l){return void r(l)}s.done?t(i):Promise.resolve(i).then(n,a)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function o(e){y(c,n,a,o,s,"next",e)}function s(e){y(c,n,a,o,s,"throw",e)}o(void 0)}))}}const d=(0,c.D)(function(){var e=E((function*(e){var{params:t,context:r,history:c}=e,i=(0,s.Z)(),l=function(){var e=E((function*(){yield(0,o.r)(i,["/notes","/tags"],r)}));return function(){return e.apply(this,arguments)}}();"client"===r.side&&(window.__history=c);return{store:i,beforeCreate:l,create:()=>{var e=i.getState();if(null!==t&&void 0!==t&&t.tagName){var r=e.tags.find((e=>e.name===t.tagName));if(r){var c=e.notes.filter((e=>e.tags.some((e=>r.id===e))));return i.dispatch({type:"SET_DISPLAY_NOTES",payload:c}),(0,a._l)([["me","/"],["notes","/notes"],["tags","/notes/tags"],[r.name,"/notes/tags/".concat(r.name)]]),()=>n.createElement(m,{tagTitle:r.title})}i.dispatch({type:"SET_NOT_FOUND",payload:!0}),(0,a._l)([["me","/"]])}else(0,a._l)([["me","/"],["notes","/notes"]]);return()=>n.createElement(m,null)}}}));return function(t){return e.apply(this,arguments)}}())},720:(e,t,r)=>{"use strict";r.d(t,{D:()=>y});var n=r(2784),a=r(284),c=r(8717),o=r(8592),s=r(5204);function i(e,t,r,n,a,c,o){try{var s=e[c](o),i=s.value}catch(l){return void r(l)}s.done?t(i):Promise.resolve(i).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function o(e){i(c,n,a,o,s,"next",e)}function s(e){i(c,n,a,o,s,"throw",e)}o(void 0)}))}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={store:Object.assign((0,c.MT)((()=>{})),(0,a.createNoopStore)()),beforeCreate:()=>{},created:()=>{},beforeDestory:()=>{},destroyed:()=>{}},h=e=>{return(t=e)&&"function"===typeof t?p(p({},f),{},{create:function(){var t=l((function*(){return e}));return function(){return t.apply(this,arguments)}}()}):p(p({},f),e);var t},y=e=>(0,a.createPage)(function(){var t=l((function*(t){var{store:r,beforeCreate:a,create:c,beforeDestory:i,destroyed:u}=h(yield e(t)),p=e=>{var{children:t}=e;return n.createElement(o.zt,{store:r},n.createElement(s.HJ,null),n.createElement(s.W2,null,t))};return{store:r,beforeCreate:()=>(t.context.ssr||r.dispatch({type:"SET_NOT_FOUND",payload:!1}),a()),create:function(){var e=l((function*(){var e=yield c();return()=>n.createElement(p,null,n.createElement(e,null))}));return function(){return e.apply(this,arguments)}}(),beforeDestory:i,destroyed:u}}));return function(e){return t.apply(this,arguments)}}())},3789:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(8717),a=r(8267);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i={errors:[],notes:[],displayNotes:[],tags:[],noteSet:{},notfound:!1,meta:{title:"Ma Tianqi(@tqma) - Software Engineer",description:"Ma Tianqi's personal website.",image:"icons/icon-192x192.png",language:"en",author:"Ma Tianqi"},pictures:{},displayPictures:{}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNSAFE_SETSTATE":return t.payload;case"SET_TAGS":return o(o({},e),{},{tags:t.payload});case"SET_PICTURES":return o(o({},e),{},{pictures:t.payload});case"SET_DISPLAY_PICTURES":return o(o({},e),{},{displayPictures:t.payload});case"SET_NOTE":var[r,n]=t.payload;return o(o({},e),{},{noteSet:o(o({},e.noteSet),{},{[r]:n})});case"SET_NOTES":return o(o({},e),{},{displayNotes:t.payload,notes:t.payload});case"SET_ERRORS":return o(o({},e),{},{errors:e.errors.concat(t.payload)});case"SET_NOT_FOUND":return o(o({},e),{},{notfound:t.payload});case"SET_DISPLAY_NOTES":return o(o({},e),{},{displayNotes:t.payload});case"SET_META_DATA":return o(o({},e),{},{meta:o(o({},e.meta),t.payload)})}return e};function u(){var e=(0,n.MT)(l,i,(0,a.Uo)());return Object.assign(e,{__UNSAFE_SET_STATE__(t){e.dispatch({type:"UNSAFE_SETSTATE",payload:t})}})}}}]);
//# sourceMappingURL=notes-1628c6.js.map