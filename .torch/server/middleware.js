(()=>{"use strict";var e={903:(e,r,t)=>{function n(e,r){void 0===r&&(r={});for(var t=function(e){for(var r=[],t=0;t<e.length;){var n=e[t];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)r.push({type:"CHAR",index:t,value:e[t++]});else{var o=1,a="";if("?"===e[s=t+1])throw new TypeError('Pattern cannot start with "?" at '+s);for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--o){s++;break}}else if("("===e[s]&&(o++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at "+s);a+=e[s++]}else a+=e[s++]+e[s++];if(o)throw new TypeError("Unbalanced pattern at "+t);if(!a)throw new TypeError("Missing pattern at "+t);r.push({type:"PATTERN",index:t,value:a}),t=s}else{for(var i="",s=t+1;s<e.length;){var p=e.charCodeAt(s);if(!(p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||95===p))break;i+=e[s++]}if(!i)throw new TypeError("Missing parameter name at "+t);r.push({type:"NAME",index:t,value:i}),t=s}else r.push({type:"CLOSE",index:t,value:e[t++]});else r.push({type:"OPEN",index:t,value:e[t++]});else r.push({type:"ESCAPED_CHAR",index:t++,value:e[t++]});else r.push({type:"MODIFIER",index:t,value:e[t++]})}return r.push({type:"END",index:t,value:""}),r}(e),n=r.prefixes,o=void 0===n?"./":n,a="[^"+p(r.delimiter||"/#?")+"]+?",i=[],s=0,u=0,f="",l=function(e){if(u<t.length&&t[u].type===e)return t[u++].value},c=function(e){var r=l(e);if(void 0!==r)return r;var n=t[u],o=n.type,a=n.index;throw new TypeError("Unexpected "+o+" at "+a+", expected "+e)},d=function(){for(var e,r="";e=l("CHAR")||l("ESCAPED_CHAR");)r+=e;return r};u<t.length;){var v=l("CHAR"),h=l("NAME"),g=l("PATTERN");if(h||g){var y=v||"";-1===o.indexOf(y)&&(f+=y,y=""),f&&(i.push(f),f=""),i.push({name:h||s++,prefix:y,suffix:"",pattern:g||a,modifier:l("MODIFIER")||""})}else{var m=v||l("ESCAPED_CHAR");if(m)f+=m;else if(f&&(i.push(f),f=""),l("OPEN")){y=d();var x=l("NAME")||"",E=l("PATTERN")||"",w=d();c("CLOSE"),i.push({name:x||(E?s++:""),pattern:x&&!E?a:E,prefix:y,suffix:w,modifier:l("MODIFIER")||""})}else c("END")}}return i}function o(e,r){return a(n(e,r),r)}function a(e,r){void 0===r&&(r={});var t=u(r),n=r.encode,o=void 0===n?function(e){return e}:n,a=r.validate,i=void 0===a||a,s=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",t)}));return function(r){for(var t="",n=0;n<e.length;n++){var a=e[n];if("string"!=typeof a){var p=r?r[a.name]:void 0,u="?"===a.modifier||"*"===a.modifier,f="*"===a.modifier||"+"===a.modifier;if(Array.isArray(p)){if(!f)throw new TypeError('Expected "'+a.name+'" to not repeat, but got an array');if(0===p.length){if(u)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var l=0;l<p.length;l++){var c=o(p[l],a);if(i&&!s[n].test(c))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but got "'+c+'"');t+=a.prefix+c+a.suffix}}else if("string"!=typeof p&&"number"!=typeof p){if(!u){var d=f?"an array":"a string";throw new TypeError('Expected "'+a.name+'" to be '+d)}}else{if(c=o(String(p),a),i&&!s[n].test(c))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but got "'+c+'"');t+=a.prefix+c+a.suffix}}else t+=a}return t}}function i(e,r){var t=[];return s(l(e,t,r),t,r)}function s(e,r,t){void 0===t&&(t={});var n=t.decode,o=void 0===n?function(e){return e}:n;return function(t){var n=e.exec(t);if(!n)return!1;for(var a=n[0],i=n.index,s=Object.create(null),p=function(e){if(void 0===n[e])return"continue";var t=r[e-1];"*"===t.modifier||"+"===t.modifier?s[t.name]=n[e].split(t.prefix+t.suffix).map((function(e){return o(e,t)})):s[t.name]=o(n[e],t)},u=1;u<n.length;u++)p(u);return{path:a,index:i,params:s}}}function p(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function u(e){return e&&e.sensitive?"":"i"}function f(e,r,t){void 0===t&&(t={});for(var n=t.strict,o=void 0!==n&&n,a=t.start,i=void 0===a||a,s=t.end,f=void 0===s||s,l=t.encode,c=void 0===l?function(e){return e}:l,d="["+p(t.endsWith||"")+"]|$",v="["+p(t.delimiter||"/#?")+"]",h=i?"^":"",g=0,y=e;g<y.length;g++){var m=y[g];if("string"==typeof m)h+=p(c(m));else{var x=p(c(m.prefix)),E=p(c(m.suffix));if(m.pattern)if(r&&r.push(m),x||E)if("+"===m.modifier||"*"===m.modifier){var w="*"===m.modifier?"?":"";h+="(?:"+x+"((?:"+m.pattern+")(?:"+E+x+"(?:"+m.pattern+"))*)"+E+")"+w}else h+="(?:"+x+"("+m.pattern+")"+E+")"+m.modifier;else h+="("+m.pattern+")"+m.modifier;else h+="(?:"+x+E+")"+m.modifier}}if(f)o||(h+=v+"?"),h+=t.endsWith?"(?="+d+")":"$";else{var T=e[e.length-1],R="string"==typeof T?v.indexOf(T[T.length-1])>-1:void 0===T;o||(h+="(?:"+v+"(?="+d+"))?"),R||(h+="(?="+v+"|"+d+")")}return new RegExp(h,u(t))}function l(e,r,t){return e instanceof RegExp?function(e,r){if(!r)return e;for(var t=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,o=t.exec(e.source);o;)r.push({name:o[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),o=t.exec(e.source);return e}(e,r):Array.isArray(e)?function(e,r,t){var n=e.map((function(e){return l(e,r,t).source}));return new RegExp("(?:"+n.join("|")+")",u(t))}(e,r,t):function(e,r,t){return f(n(e,t),r,t)}(e,r,t)}t.r(r),t.d(r,{parse:()=>n,compile:()=>o,tokensToFunction:()=>a,match:()=>i,regexpToFunction:()=>s,tokensToRegexp:()=>f,pathToRegexp:()=>l})},500:(e,r,t)=>{r.createRouter=void 0;var n=t(903);function o(e){var r=Object.assign({},e);r.keys=[];var t=r.keys,o=n.pathToRegexp(r.path,t);return Object.assign({keys:t,regexp:o},r)}function a(e,r){for(var t={},n=1,o=e.length;n<o;n++){var a=r[n-1];a&&("string"==typeof e[n]?t[a.name]=decodeURIComponent(e[n]):t[a.name]=e[n])}return t}r.createRouter=function(e){var r,t,n=(r=e.map(o),t=r.length,function(e){for(var n=e.replace(/\/\//g,"/"),o=0;o<t;o++){var i=r[o],s=i.regexp.exec(n);if(s){var p=a(s,i.keys),u=i.module;return{path:i.path,params:p,module:u}}}return null});return function(e){return function(e){var r=n(e||"/");return null===r?null:r}(e)}}}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{t.r(n),t.d(n,{assets:()=>u,attachStatic:()=>a});const e=require("react-torch");var r=[{type:e.PreloadType.Link,href:"/css/base.css",preload:!0}],o=[{type:e.PreloadType.Link,src:"https://www.googletagmanager.com/gtag/js?id=UA-178762043-1"},{type:e.PreloadType.Inner,content:"\n      window.dataLayer = window.dataLayer || [];\n      function gtag(){dataLayer.push(arguments);}\n      gtag('js', new Date());\n    \n      gtag('config', 'UA-178762043-1');\n    "}],a=(e,t)=>{e.use(((e,t,n)=>{console.log(e.path),t.locals={styles:r,scripts:o},n()}))},i=t(500),s=r=>{var t=new RegExp("".concat(r,".css"));return(r,n)=>{var{styles:o,scripts:a}=r;return Object.keys(n).forEach((r=>{t.test(r)&&(o=[...o,{type:e.PreloadType.Link,href:n[r],preload:!0}])})),{styles:o,scripts:a}}},p=[{path:"/",module:s("home")},{path:"/photography",module:s("photography")},{path:["/notes","/notes/tags/:tagName"],module:s("notes")},{path:"/notes/tags",module:s("tags")},{path:"/notes/:noteName",module:s("note")},{path:"/games",module:s("games")},{path:"/:path*",module:s("notfound")}],u=(e,r)=>{var t=(0,i.createRouter)(p);e.use(((e,r,n)=>{console.log(e.path);var o=t(e.path);if(o){var{scripts:a,styles:i}=o.module({styles:r.locals.styles,scripts:r.locals.scripts},r.locals.assets);r.locals.styles=i,r.locals.scripts=a}n()}))}})(),module.exports=n})();
//# sourceMappingURL=middleware.js.map